# üîç Como Verificar no Dashboard do Supabase

## üìç Localiza√ß√£o: Database ‚Üí Cron Jobs

Siga este caminho visual:

```
Supabase Dashboard
    ‚îÇ
    ‚îú‚îÄ üóÑÔ∏è Database (menu lateral esquerdo)
    ‚îÇ   ‚îÇ
    ‚îÇ   ‚îú‚îÄ Tables
    ‚îÇ   ‚îú‚îÄ Extensions  ‚Üê Verificar se pg_cron est√° ativo
    ‚îÇ   ‚îú‚îÄ Replication
    ‚îÇ   ‚îú‚îÄ Webhooks
    ‚îÇ   ‚îú‚îÄ Functions
    ‚îÇ   ‚îî‚îÄ üïê Cron Jobs  ‚Üê AQUI!
    ‚îÇ
    ‚îî‚îÄ SQL Editor (para executar queries)
```

---

## ‚úÖ Passo a Passo Visual

### 1Ô∏è‚É£ Acessar Extensions

**Caminho:** `Database ‚Üí Extensions`

**O que procurar:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Extensions                                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Name        ‚îÇ Installed ‚îÇ Version           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ pg_cron     ‚îÇ    ‚úÖ     ‚îÇ 1.4              ‚îÇ
‚îÇ uuid-ossp   ‚îÇ    ‚úÖ     ‚îÇ 1.1              ‚îÇ
‚îÇ ...         ‚îÇ    ...    ‚îÇ ...              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Status Esperado:** ‚úÖ pg_cron DEVE estar marcado como instalado

---

### 2Ô∏è‚É£ Verificar Cron Jobs

**Caminho:** `Database ‚Üí Cron Jobs`

**O que voc√™ ver√°:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Scheduled Jobs                                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Job Name                      ‚îÇ Schedule    ‚îÇ Status ‚îÇ Last   ‚îÇ
‚îÇ                               ‚îÇ             ‚îÇ        ‚îÇ Run     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ cleanup-expired-user-sessions ‚îÇ */5 * * * * ‚îÇ Active ‚îÇ 2 min  ‚îÇ
‚îÇ                               ‚îÇ (Every 5    ‚îÇ   ‚úÖ   ‚îÇ ago     ‚îÇ
‚îÇ                               ‚îÇ  minutes)   ‚îÇ        ‚îÇ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Detalhes do Job:**
- **Nome:** `cleanup-expired-user-sessions`
- **Agendamento:** `*/5 * * * *` (a cada 5 minutos)
- **Status:** Active ‚úÖ
- **Comando:** `SELECT public.cleanup_expired_sessions()`

---

### 3Ô∏è‚É£ Ver Hist√≥rico de Execu√ß√µes

Clique no job `cleanup-expired-user-sessions` para ver:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Job Run History                                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Start Time          ‚îÇ Status    ‚îÇ Duration ‚îÇ Return Message ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 2025-10-14 10:35:00 ‚îÇ succeeded ‚îÇ 0.12s    ‚îÇ 3              ‚îÇ
‚îÇ 2025-10-14 10:30:00 ‚îÇ succeeded ‚îÇ 0.10s    ‚îÇ 1              ‚îÇ
‚îÇ 2025-10-14 10:25:00 ‚îÇ succeeded ‚îÇ 0.09s    ‚îÇ 0              ‚îÇ
‚îÇ 2025-10-14 10:20:00 ‚îÇ succeeded ‚îÇ 0.11s    ‚îÇ 2              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Return Message:** N√∫mero de sess√µes limpas em cada execu√ß√£o

---

### 4Ô∏è‚É£ Verificar Tabelas Criadas

**Caminho:** `Database ‚Üí Tables`

**Procure por:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Tables                             ‚îÇ Rows    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ user_sessions             ‚úÖ       ‚îÇ 5       ‚îÇ
‚îÇ user_session_history      ‚úÖ       ‚îÇ 147     ‚îÇ
‚îÇ profiles                           ‚îÇ 23      ‚îÇ
‚îÇ ...                                ‚îÇ ...     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Clique em `user_sessions`** para ver a estrutura:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Columns                                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id              ‚îÇ uuid                ‚îÇ PRIMARY KEY ‚îÇ
‚îÇ user_id         ‚îÇ uuid                ‚îÇ FOREIGN KEY ‚îÇ
‚îÇ session_token   ‚îÇ text                ‚îÇ UNIQUE      ‚îÇ
‚îÇ ip_address      ‚îÇ inet                ‚îÇ             ‚îÇ
‚îÇ user_agent      ‚îÇ text                ‚îÇ             ‚îÇ
‚îÇ started_at      ‚îÇ timestamptz         ‚îÇ             ‚îÇ
‚îÇ last_seen_at    ‚îÇ timestamptz         ‚îÇ             ‚îÇ
‚îÇ expires_at      ‚îÇ timestamptz         ‚îÇ             ‚îÇ
‚îÇ is_active       ‚îÇ boolean             ‚îÇ             ‚îÇ
‚îÇ created_at      ‚îÇ timestamptz         ‚îÇ             ‚îÇ
‚îÇ updated_at      ‚îÇ timestamptz         ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 5Ô∏è‚É£ Testar no SQL Editor

**Caminho:** `SQL Editor ‚Üí New Query`

**Cole e execute:**

```sql
-- Ver status completo do sistema
SELECT 
    (SELECT COUNT(*) FROM user_sessions WHERE is_active = TRUE) as usuarios_online,
    (SELECT COUNT(*) FROM user_session_history) as total_historico,
    (SELECT active FROM cron.job WHERE jobname = 'cleanup-expired-user-sessions') as cron_ativo;
```

**Resultado Esperado:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ usuarios_online ‚îÇ total_historico ‚îÇ cron_ativo ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              5  ‚îÇ            147  ‚îÇ    true    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ Checklist de Verifica√ß√£o

Marque cada item conforme verifica:

### Instala√ß√£o
- [ ] pg_cron aparece em `Database ‚Üí Extensions` com status ‚úÖ
- [ ] Tabela `user_sessions` existe em `Database ‚Üí Tables`
- [ ] Tabela `user_session_history` existe em `Database ‚Üí Tables`

### Cron Job
- [ ] Job `cleanup-expired-user-sessions` aparece em `Database ‚Üí Cron Jobs`
- [ ] Status do job est√° **Active** ‚úÖ
- [ ] Schedule √© `*/5 * * * *`
- [ ] H√° execu√ß√µes no hist√≥rico (se passou tempo suficiente)

### Funcionalidade
- [ ] Query de teste retorna dados corretos
- [ ] Consegue ver estat√≠sticas com `SELECT * FROM get_online_users_stats();`
- [ ] Limpeza manual funciona: `SELECT cleanup_expired_sessions();`

---

## ‚ùå Se Algo N√£o Estiver Certo

### Problema: pg_cron n√£o aparece nas Extensions

**Causa:** Seu plano do Supabase pode n√£o incluir pg_cron

**Solu√ß√£o:** Use a alternativa com Edge Function (veja `DEPLOY_USER_SESSIONS_GUIDE.md` se√ß√£o 5)

---

### Problema: Cron Job n√£o est√° listado

**Solu√ß√£o:** Execute novamente a parte do cron no SQL Editor:

```sql
CREATE EXTENSION IF NOT EXISTS pg_cron;

SELECT cron.schedule(
    'cleanup-expired-user-sessions',
    '*/5 * * * *',
    $$SELECT public.cleanup_expired_sessions()$$
);
```

---

### Problema: Job est√° "Inactive" (inativo)

**Solu√ß√£o:** Ative manualmente:

```sql
UPDATE cron.job 
SET active = TRUE 
WHERE jobname = 'cleanup-expired-user-sessions';
```

---

### Problema: Tabelas n√£o aparecem

**Solu√ß√£o:** Execute novamente o arquivo completo `apply-user-sessions-migration.sql`

---

### Problema: Erro de permiss√£o ao executar queries

**Solu√ß√£o:** Verifique se voc√™ est√° autenticado como super admin:

```sql
-- Verificar se √© super admin
SELECT is_super_admin();
```

Se retornar `false`, fa√ßa login com usu√°rio super admin.

---

## üìä Monitoramento Cont√≠nuo

### Dashboard Recomendado

Crie uma query salva no SQL Editor com:

```sql
-- Monitoramento Completo
SELECT 
    'üë• Usu√°rios Online' as metrica,
    COUNT(*)::text as valor
FROM user_sessions 
WHERE is_active = TRUE AND expires_at > NOW()

UNION ALL

SELECT 
    'üìä Sess√µes Hoje',
    COUNT(*)::text
FROM user_session_history
WHERE DATE(ended_at) = CURRENT_DATE

UNION ALL

SELECT 
    '‚è±Ô∏è Dura√ß√£o M√©dia (min)',
    ROUND(AVG(duration_minutes))::text
FROM user_session_history
WHERE ended_at > NOW() - INTERVAL '24 hours'

UNION ALL

SELECT 
    'üïê √öltima Limpeza',
    TO_CHAR(MAX(start_time), 'HH24:MI:SS')
FROM cron.job_run_details
WHERE jobname = 'cleanup-expired-user-sessions'

UNION ALL

SELECT 
    '‚úÖ Cron Status',
    CASE WHEN active THEN 'ATIVO' ELSE 'INATIVO' END
FROM cron.job
WHERE jobname = 'cleanup-expired-user-sessions';
```

**Salve como:** `Dashboard - Monitoramento de Sess√µes`

---

## üéØ Tudo Funcionando?

Se voc√™ conseguiu marcar todos os itens do checklist acima, **parab√©ns!** üéâ

Seu sistema de monitoramento de sess√µes est√°:
- ‚úÖ Instalado
- ‚úÖ Configurado
- ‚úÖ Funcionando automaticamente
- ‚úÖ Pronto para uso

**Pr√≥ximo passo:** Integrar com o frontend seguindo o guia `SESSOES_QUICKSTART.md`

---

## üìû Precisa de Ajuda?

Veja os guias completos:
- `SESSOES_QUICKSTART.md` - In√≠cio r√°pido
- `DEPLOY_USER_SESSIONS_GUIDE.md` - Guia completo
- `USER_SESSIONS_QUERIES.sql` - 50+ queries √∫teis

