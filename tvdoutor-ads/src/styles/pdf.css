/* ===== Estilos dedicados para PDF ===== */

/* Controle de impressão/PDF */
@media print {
  .hide-on-print {
    display: none !important;
  }
}

/* A classe hide-on-pdf será aplicada dinamicamente durante a geração do PDF */
.hide-on-pdf {
  display: none !important;
}

/* Botão de PDF - visível na interface, escondido apenas no PDF */
.pdf-download-button {
  /* Visível normalmente na interface */
}

/* Durante a impressão, o botão não deve aparecer */
@media print {
  .pdf-download-button {
    display: none !important;
  }
}

/* ===== ESTILOS DE IMPRESSÃO PARA PDF ===== */
@media print {
  /* Ajustes básicos para evitar problemas de corte */
  body, html {
    overflow: visible !important;
    background: white !important;
  }

  #proposal-print-area {
    width: 100% !important;
    margin: 0 !important;
    background: white !important;
  }

  /* Evitar cortes dentro de cartões/tabelas */
  .avoid-break-inside { page-break-inside: avoid !important; }
  .page-break-before { page-break-before: always !important; }
  .section-break { page-break-inside: avoid !important; }
}

/* ===== CONTEXTO DE EXPORTAÇÃO PARA PDF (aplicado dinamicamente) ===== */
body.pdf-export #proposal-print-area {
  /* Largura aproximada A4 em 96dpi (paisagem) */
  max-width: 1123px;
  margin: 0 auto;
  padding: 24px;
  background: #ffffff;
  line-height: 1.35; /* leitura mais suave no PDF */
}

body.pdf-export .hide-on-pdf { display: none !important; }
body.pdf-export .pdf-download-button { display: none !important; }

/* Quebras de página controladas via utilitários */
body.pdf-export .avoid-break-inside { break-inside: avoid-page !important; page-break-inside: avoid !important; }
body.pdf-export .page-break-before { break-before: page !important; page-break-before: always !important; height: 0 !important; }

/* ===== Layout específico para PDF ===== */
/* KPIs em 4 colunas, usam o espaço paisagem de forma eficiente */
body.pdf-export #proposal-print-area .pdf-kpis-grid { 
  display: grid; 
  grid-template-columns: repeat(4, 1fr); 
  gap: 16px; 
}

/* Grade principal em 1 coluna para leitura linear (solicitação do usuário) */
body.pdf-export #proposal-print-area .pdf-two-column {
  display: grid;
  grid-template-columns: 1fr; /* Paisagem com 1 coluna para fluxo contínuo */
  gap: 16px;
}

/* Força ProjectInfo a ocupar apenas 1 coluna no PDF (evita desalinhamento) */
body.pdf-export #proposal-print-area .pdf-project-info {
  grid-column: span 1 / span 1;
}

/* Espaçamento utilitário */
body.pdf-export #proposal-print-area .pdf-gap-6 { gap: 16px; }

/* Utilitários para páginas de inventário no PDF */
body.pdf-export #proposal-print-area .inventory-page {
  page-break-inside: avoid !important;
  break-inside: avoid-page !important;
}

/* Afinar tipografia de títulos no PDF sem alterar UI normal */
body.pdf-export #proposal-print-area h1,
body.pdf-export #proposal-print-area h2,
body.pdf-export #proposal-print-area h3 {
  line-height: 1.2;
}

/* Reduzir padding interno em cards apenas no PDF quando desejado */
.pdf-tight-card {
  padding: 12px;
}

/* Mapa de layout por seção (ponto de extensão para futuros limites/altura) */
body.pdf-export #proposal-print-area .pdf-section-kpis,
body.pdf-export #proposal-print-area .pdf-section-project,
body.pdf-export #proposal-print-area .pdf-section-financial,
body.pdf-export #proposal-print-area .pdf-section-inventory {
  break-inside: avoid-page;
}

/* ===== Utilitários granulares de tipografia para PDF ===== */
/* Aplique .pdf-dense-text em blocos com muito conteúdo textual para aumentar a legibilidade */
body.pdf-export #proposal-print-area .pdf-dense-text {
  line-height: 1.5;
}

/* Aplique .pdf-compact-title diretamente em títulos que precisam ocupar menos altura */
body.pdf-export #proposal-print-area .pdf-compact-title {
  line-height: 1.15;
  margin-bottom: 6px;
  letter-spacing: 0.01em; /* leve compactação visual sem alterar font-size */
}

/* Variantes para casos extremos, mantendo simplicidade */
body.pdf-export #proposal-print-area .pdf-dense-text--sm {
  line-height: 1.45;
}

body.pdf-export #proposal-print-area .pdf-compact-title--tight {
  line-height: 1.1;
  margin-bottom: 4px;
}
